<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-Team Instructor Schedule Screen</title>

    <style>
        /* --- CSS VARIABLES (Theme Colors) --- */
        :root {
            --primary-black: #1a1a1a;
            --accent-yellow: #FFD700; /* Gold/Yellow */
            --bg-white: #f4f4f4;
            --text-dark: #333333;
            --border: #dddddd;

            --ok-bg: #e9f8ef;
            --ok-text: #126b2b;
            --err-bg: #fdecec;
            --err-text: #9b1c1c;
        }

        /* --- BASIC RESET --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-white);
            color: var(--text-dark);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* --- HEADER --- */
        header {
            background-color: var(--primary-black);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 4px solid var(--accent-yellow);
        }

        .logo { font-size: 1.8rem; font-weight: bold; color: white; letter-spacing: 1px; text-transform: uppercase; }
        .logo span { color: var(--accent-yellow); }

        nav ul { list-style: none; display: flex; gap: 20px; flex-wrap: wrap; }
        nav a { text-decoration: none; color: white; font-weight: 500; transition: color 0.3s; }
        nav a:hover { color: var(--accent-yellow); }

        /* --- BUTTONS --- */
        .btn {
            background-color: var(--accent-yellow);
            color: var(--primary-black);
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: bold;
            border: none;
            cursor: pointer;
        }
        .btn:hover { background-color: #e6c200; }
        
        /* Small button for the table toggle */
        .btn-sm {
            padding: 4px 10px;
            font-size: 0.85rem;
        }

        .btn-secondary {
            background-color: white;
            color: var(--primary-black);
            border: 2px solid var(--primary-black);
        }
        .btn-secondary:hover { background-color: #f6f6f6; }

        /* --- MAIN LAYOUT --- */
        main {
            flex: 1;
            width: 100%;
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: white;
            border: 1px solid #ddd;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .page-title {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 1.25rem;
        }
        .page-title h1 { font-size: 1.6rem; }
        .subtext { color: #666; font-size: .95rem; }
        
        .badge {
            padding: 6px 10px;
            border-radius: 999px;
            border: 1px solid var(--border);
            background: #fafafa;
            font-size: .85rem;
        }

        .card {
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 16px;
            background: #fff;
            margin-bottom: 20px;
        }
        .card h2 {
            font-size: 1.1rem;
            margin-bottom: 10px;
            border-left: 6px solid var(--accent-yellow);
            padding-left: 10px;
        }

        /* --- FORM ELEMENTS --- */
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 10px; }
        input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; }
        
        /* --- TABLE STYLES --- */
        .table-wrap { overflow: auto; border: 1px solid var(--border); border-radius: 8px; margin-top: 12px; }
        table { width: 100%; border-collapse: collapse; min-width: 600px; }
        
        thead th { background: #f7f7f7; text-align: left; padding: 10px; border-bottom: 1px solid var(--border); }
        tbody td { padding: 10px; border-bottom: 1px solid #eee; vertical-align: middle; }

        .pill { padding: 3px 8px; border-radius: 999px; font-size: .8rem; border: 1px solid #ddd; }
        .pill.good { background: #e9f8ef; color: #126b2b; border-color: #b9f0c8; }
        .pill.warn { background: #fff8e1; color: #b7791f; border-color: #fce96a; }

        /* --- DROPDOWN / ACCORDION STYLES --- */
        /* Hidden by default */
        .roster-row {
            display: none; 
            background-color: #fafafa;
        }
        
        /* When active, show it as a table-row */
        .roster-row.active {
            display: table-row;
        }

        .roster-container {
            padding: 15px 25px;
            border-left: 4px solid #ddd;
        }

        /* Inner table for students */
        .roster-table {
            width: 100%;
            font-size: 0.9rem;
            border: 1px solid #eee;
            background: white;
        }
        .roster-table th { background-color: #eee; color: #555; }
        .roster-table td { border-bottom: 1px solid #eee; padding: 8px; }

        /* --- FOOTER --- */
        footer {
            background-color: var(--primary-black);
            color: #888;
            text-align: center;
            padding: 1.5rem;
            margin-top: auto;
            border-top: 4px solid var(--accent-yellow);
        }
    </style>
</head>
<body>

<header>
    <div class="logo">A-<span>Team</span> Systems</div>
    <nav>
        <ul>
            <li><a href="index.html">[ Home ]</a></li>
            <li><a href="course-search.html">[ Course Search ]</a></li>
            <li><a href="student-registrations.html">[ Student Registrations ]</a></li>
            <li><a href="instructor-schedules.html" style="color: var(--accent-yellow);">[ Instructor Schedules ]</a></li>
            <li><a href="session-enrollment.html">[ Session Enrollment ]</a></li>
            <li><a href="#" class="btn">Switch to Student Login</a></li>
        </ul>
    </nav>
</header>

<main>

    <div class="page-title">
        <div>
            <h1>Instructor Schedule Viewer</h1>
            <p class="subtext">View your assigned teaching schedule and class performance metrics.</p>
        </div>
        <div id="authBadge" class="badge">Not logged in üÖ∞Ô∏è</div>
    </div>

    <section id="loginPanel" class="card">
        <h2>Instructor Login</h2>
        <p class="subtext">Please enter your Instructor ID to view your schedule.</p>

        <div class="form-row">
            <div>
                <label for="instructorIdInput"><b>Instructor ID</b></label>
                <input id="instructorIdInput" placeholder="Enter: instructor1" />
            </div>
            <div style="display:flex; align-items:flex-end;">
                <button class="btn" id="loginBtn">Log In</button>
            </div>
        </div>
    </section>

    <section id="instructorArea" style="display:none; margin-top:16px;">
        
        <h2>Welcome Dr. Andrew Ospina!</h2>

        <div class="card">
            <h2>My Assigned Sessions</h2>
            <div class="table-wrap">
                <table>
                    <thead>
                        <tr>
                            <th>Session ID</th>
                            <th>Course Name</th>
                            <th>Enrollment</th> 
                            <th>Status</th>
                            <th>Class Roster</th>
                            <th>Success Rate</th>
                        </tr>
                    </thead>
                    <tbody id="scheduleTableBody">
                        </tbody>
                </table>
            </div>

            <div style="margin-top: 20px;">
                <button class="btn btn-secondary" id="logoutBtn">Log Out</button>
            </div>
        </div>

    </section>

</main>

<footer>
    <p>&copy; INFO-465 A-Team Group - UI/UX Team Assignment - Andrew, Tolu, Sanjana, & Jean</p>
</footer>

<script>
/* ==========================================================
   INSTRUCTOR SCHEDULE LOGIC WITH DROPDOWN ROSTERS
   ========================================================== */

// 1. DATA: Instructors, Sessions, and Mock Students per session
const SYSTEM_DATA = {
    instructors: ["instructor1", "instructor2"],
    sessions: [
        { 
            id: "A-INFO-465-002", 
            course: "Projects in Information Systems", 
            instructor: "instructor1",
            current: 40, 
            max: 40,
            successRate: "92%",
            students: [
                { name: "Alice Johnson", grade: "94% (A)" },
                { name: "Bob Smith", grade: "88% (B+)" },
                { name: "Charlie Davis", grade: "76% (C)" },
                { name: "Diana Prince", grade: "98% (A+)" },
                { name: "Evan Wright", grade: "82% (B-)" }
            ]
        },
        { 
            id: "A-INFO-300-001", 
            course: "IT Infrastructure", 
            instructor: "instructor1",
            current: 32, 
            max: 35,
            successRate: "89%",
            students: [
                { name: "Frank Miller", grade: "72% (C-)" },
                { name: "Grace Hopper", grade: "99% (A+)" },
                { name: "Hank Pym", grade: "85% (B)" },
                { name: "Ivy Doom", grade: "91% (A-)" },
                { name: "Tolu Bakare", grade: "95% (A)" } 
            ]
        },
        { 
            id: "A-PROF-101-002", 
            course: "Professional Development", 
            instructor: "instructor1",
            current: 12, 
            max: 15,
            successRate: "85%",
            students: [
                { name: "Jack Sparrow", grade: "65% (D)" },
                { name: "Kyle Rayner", grade: "100% (A+)" },
                { name: "Lara Croft", grade: "82% (B-)" }, 
                { name: "Jean Carlo Gachet", grade: "91% (A-)" }, 
                { name: "Sanjana Illendula", grade: "88% (B+)" }
            ]
        }
    ]
};

// 2. STATE MANAGEMENT
let currentUser = null;

function qs(id) { return document.getElementById(id); }

function render() {
    const loginPanel = qs("loginPanel");
    const instructorArea = qs("instructorArea");
    const badge = qs("authBadge");

    if (!currentUser) {
        // Show Login, Hide Schedule
        loginPanel.style.display = "block";
        instructorArea.style.display = "none";
        badge.textContent = "Not logged into üÖ∞Ô∏è-Team Systems";
    } else {
        // Hide Login, Show Schedule
        loginPanel.style.display = "none";
        instructorArea.style.display = "block";
        badge.textContent = `Logged in as: Dr. Andrew Ospina (${currentUser})`;
        
        loadScheduleTable();
    }
}

function loadScheduleTable() {
    const tbody = qs("scheduleTableBody");
    
    // Filter sessions to only show those taught by the current user
    const mySessions = SYSTEM_DATA.sessions.filter(s => s.instructor === currentUser);

    if (mySessions.length === 0) {
        tbody.innerHTML = `<tr><td colspan="5">No sessions assigned for this ID.</td></tr>`;
        return;
    }

    // Build the HTML
    let tableHTML = "";

    mySessions.forEach((session, index) => {
        // Status Logic
        const isFull = session.current >= session.max;
        const statusPill = isFull 
            ? `<span class="pill warn">FULL</span>` 
            : `<span class="pill good">OPEN</span>`;
        
        // --- 1. THE MAIN ROW ---
        tableHTML += `
            <tr>
                <td><b>${session.id}</b></td>
                <td>${session.course}</td>
                <td>${session.current} / ${session.max}</td>
                <td>${statusPill}</td>
                <td>
                    <button class="btn btn-sm" onclick="toggleRoster('roster-${index}')">
                        View Students ‚ñº
                    </button>
                </td>
                <td style="text-align: center; font-weight: bold;">
                ${session.successRate}
            </td>
            </tr>
        `;

        // --- 2. THE DROPDOWN ROW (Hidden by default) ---
        // Generate the inner table of students
        let studentRows = session.students.map(student => `
            <tr>
                <td>${student.name}</td>
                <td><b>${student.grade}</b></td>
            </tr>
        `).join("");

        tableHTML += `
            <tr id="roster-${index}" class="roster-row">
                <td colspan="6">
                    <div class="roster-container">
                        <h4>Class Roster: ${session.course}</h4>
                        <br>
                        <table class="roster-table">
                            <thead>
                                <tr>
                                    <th>Student Name</th>
                                    <th>Current Grade</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${studentRows}
                            </tbody>
                        </table>
                        <br>
                        <p style="font-size:0.85rem; color:#666;">
                            * Showing ${session.students.length} of ${session.current} enrolled students (Demo View).
                        </p>
                    </div>
                </td>
            </tr>
        `;
    });

    tbody.innerHTML = tableHTML;
}

// Function to handle the accordion toggle
window.toggleRoster = function(rowId) {
    const row = document.getElementById(rowId);
    if (row.style.display === "table-row") {
        row.style.display = "none"; // Hide
    } else {
        row.style.display = "table-row"; // Show
    }
};

// 3. EVENT LISTENERS
qs("loginBtn").addEventListener("click", () => {
    const inputId = qs("instructorIdInput").value.trim();
    
    if (inputId === "instructor1") {
        currentUser = inputId;
        render();
    } else {
        alert("Please use 'instructor1' to see the demo data.");
    }
});

qs("logoutBtn").addEventListener("click", () => {
    currentUser = null;
    qs("instructorIdInput").value = "";
    render();
});

// Initialize view
render();

</script>

</body>
</html>